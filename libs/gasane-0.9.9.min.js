/*!
 * Copyright (c) 2011-2016 inazumatv.com, inc.
 * @author (at)taikiken / http://inazumatv.com
 * @date 2015/03/24 - 12:10
 *
 * Distributed under the terms of the MIT license.
 * http://www.opensource.org/licenses/mit-license.html
 *
 * This notice shall be included in all copies or substantial portions of the Software.
 *
 * @build 2016-12-29 22:07:42
 * @version 0.9.9
 * @git https://github.com/taikiken/gasane.js
 *
 */
var Gasane=window.Gasane||{};!function(t){"use strict";var e=t.self;Date.now||(Date.now=function(){return(new Date).getTime()}),function(){var t,n,i,s,r,a,o=0,u=["ms","moz","webkit","o"];for(t=0,n=u.length;t<n&&!e.requestAnimationFrame;++t)e.requestAnimationFrame=e[u[t]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[u[t]+"CancelAnimationFrame"]||e[u[t]+"CancelRequestAnimationFrame"];"undefined"==typeof e.requestAnimationFrame&&"undefined"!=typeof e.setTimeout&&(a=Math.max,e.requestAnimationFrame=function(t){return i=Date.now(),s=a(0,16-(i-o)),r=e.setTimeout(function(){t(i+s)},s),o=i+s,r}),"undefined"==typeof e.cancelAnimationFrame&&"undefined"!=typeof e.clearTimeout&&(e.cancelAnimationFrame=function(t){e.clearTimeout(t)})}()}(window),function(t){"use strict";function e(){this.listeners={}}var n=t.Gasane,i=e.prototype;i.constructor=e,i.addEventListener=function(t,e){this.on(t,e)},i.on=function(t,e){if(e){"undefined"==typeof this.listeners&&(this.listeners={});var n=this.listeners;"undefined"==typeof n[t]&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)}},i.hasEventListener=function(t,e){return this.has(t,e)},i.has=function(t,e){var n=this.listeners;return"undefined"!=typeof n&&("undefined"!=typeof e[t]&&n[t].indexOf(e)!==-1)},i.removeEventListener=function(t,e){this.off(t,e)},i.off=function(t,e){var n,i,s,r,a,o=this.listeners;if("undefined"!=typeof o&&o.hasOwnProperty(t)&&(n=o[t],i=n.indexOf(e),i!==-1)){for(n[i]=null,a=!1,s=0,r=n.length;s<r;s=s+1|0)if(null!==n[s]){a=!0;break}a||(this.listeners[t]=[])}},i.dispatchEvent=function(t){var e,n,i,s,r=this.listeners;if("undefined"!=typeof r&&"undefined"!=typeof t.type&&(e=r[t.type],r.hasOwnProperty(t.type)))for(t.target=this,i=0,s=e.length;i<s;i=i+1|0)n=e[i],n&&n.call(this,t)},e.initialize=function(t){t.addEventListener=i.addEventListener,t.on=i.on,t.hasEventListener=i.hasEventListener,t.has=i.has,t.removeEventListener=i.removeEventListener,t.off=i.off,t.dispatchEvent=i.dispatchEvent},n.EventDispatcher=e}(window),function(t){"use strict";function e(){throw new Error("Cycle can't create instance.")}var n=t.Gasane,i=n.EventDispatcher,s=t.self.requestAnimationFrame,r=t.self.cancelAnimationFrame;e.started=!1,e.id=0,e.UPDATE="cycleUpdate",e.event={type:e.UPDATE,scope:e},i.initialize(e);var a=e.prototype;a.constructor=e,e.start=function(){e.started||(e.started=!0,e.update())},e.stop=function(){e.started&&(r(e.id),e.started=!1,e.id=0)},e.update=function(){e.id=s(e.update),e.dispatchEvent(e.event)},n.Cycle=e}(window),function(t){"use strict";function e(t){this.polling=t,this.started=!1,this.startId=0,this.boundUpdate=this.update.bind(this),this.event={type:e.PAST,scope:this}}var n=t.Gasane,i=n.EventDispatcher,s=n.Cycle,r=Date.now;e.PAST="pollingPast";var a=e.prototype;i.initialize(a),a.constructor=e,a.start=function(){return this.started||(this.started=!0,this.setPolling(this.polling),s.on(s.UPDATE,this.boundUpdate),s.start()),this.started},a.stop=function(){return this.started&&(this.started=!1,s.off(s.UPDATE,this.boundUpdate)),this.started},a.setPolling=function(t){return this.startId=this.now(),this.polling=t,t},a.changePolling=function(t){return this.setPolling(t)},a.now=function(){return r()},a.update=function(){var t,e=this.now();e-this.startId>=this.polling&&(this.startId=e,t=this.event,t.current=e,this.dispatchEvent(t))},n.Polling=e}(window),function(t){"use strict";function e(t){this.fps=t,this.started=!1,this.startId=0,this.polling=0,this.boundUpdate=this.update.bind(this),this.event={type:e.ENTER_FRAME,scope:this}}var n=t.Gasane,i=n.EventDispatcher,s=n.Cycle,r=Date.now;e.ENTER_FRAME="enterFrame";var a=e.prototype;i.initialize(a),a.constructor=e,a.start=function(){return this.started||(this.started=!0,this.setFps(this.fps),s.on(s.UPDATE,this.boundUpdate),s.start()),this.started},a.stop=function(){return this.started&&(this.started=!1,s.off(s.UPDATE,this.boundUpdate)),this.polling=Number.MAX_VALUE,this.started},a.setFps=function(t){return this.startId=this.now(),this.polling=1e3/t,this.fps=t,t},a.changeFps=function(t){return this.setFps(t)},a.now=function(){return r()},a.update=function(){var t,e=this.now();e-this.startId>=this.polling&&(this.startId=e,t=this.event,t.current=e,this.dispatchEvent(t))},n.Fps=e}(window);